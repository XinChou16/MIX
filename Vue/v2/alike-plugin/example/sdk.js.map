{"version":3,"file":"sdk.js","sources":["../config.js","../util/index.js","../instance/index.js","../global-api/use.js","../global-api/index.js","../internal-plugins/query.js","../internal-plugins/index.js","../index.js"],"sourcesContent":["/**\n * global config\n */\nexport default {\n  /**\n   * if enable log or not\n   */\n  silent: false,\n\n  /**\n   * handler for internal error\n   */\n  errorHandler: null,\n\n  /**\n   * handler for internal warn\n   */\n  warnHandler: null\n}\n","import config from '../config';\n\nexport function log(msg) {\n  console.log(msg);\n}\n\nexport function handleError(err) {\n  if (config.errorHandler) {\n    try {\n      return config.errorHandler.call(null, err);\n    } catch (e) {\n\n    }\n  }\n  console.error(`[SDK ERROR]: \\n`, error);\n}\n\nexport function warn(msg) {\n  if (config.warnHandler) {\n    try {\n      return config.warnHandler.call(null, msg);\n    } catch (e) {\n\n    }\n  }\n  console.warn(`[SDK WARN]: \\n`, msg);\n}\n\nexport function invokeWithErrorHandling(handler, ctx, args) {\n  try {\n    return handler.apply(ctx, args);\n  } catch (e) {\n    handleError(e);\n  }\n}\n","/**\n * SDK Ctor\n */\nimport { warn } from '../util';\n\nfunction SDK(options) {\n  if (!(this instanceof SDK)) {\n    warn('SDK is a constructor and should be called with the `new` keyword');\n  }\n  this._init(options);\n}\n\ninitMixin(SDK);\n\n// methods\nfunction initMixin(SDK) {\n  SDK.prototype._init = function (options) {\n\n  };\n}\n\nexport default SDK;\n","/**\n * init SDK use static method\n */\n\nexport function initUse(SDK) {\n  SDK.use = function (plugin) {\n    const installedPlugins =\n      this._installedPlugins || (this._installedPlugins = []);\n\n    if (installedPlugins.indexOf(plugin) > -1) {\n      return this;\n    }\n\n    const args = [].slice.call(arguments, 1);\n    args.unshift(this);\n    if (plugin && typeof plugin.install === 'function') {\n      plugin.install.apply(plugin, args);\n    } else if (typeof plugin === 'function') {\n      plugin.apply(null, args);\n    }\n    installedPlugins.push(plugin);\n\n    return this;\n  };\n}\n","/**\n * init global api\n */\nimport { initUse } from './use';\nimport config from '../config';\nimport { log, warn } from '../util';\n\nexport function initGlobalAPI(SDK) {\n  // expose config\n  const configDef = {};\n  configDef.get = () => config;\n\n  Object.defineProperty(SDK, 'config', configDef);\n\n  // expose util\n  SDK.util = {\n    log,\n    warn\n  };\n\n  // options\n  SDK.options = Object.create(null);\n\n  // expose use\n  initUse(SDK);\n}\n","/**\n * query plugin\n */\n\nexport default function queryPlugin(SDK, options = {}) {\n  const injectKey = options.injectKey || '$query';\n  SDK.prototype[injectKey] = createQuery(options);\n}\n\nfunction createQuery(options) {\n  const queryer = {\n    has() {},\n    set() {},\n    del() {},\n    getAll() {}\n  };\n\n  return queryer;\n}\n","/**\n * internal plugins\n */\nimport queryPlugin from './query';\n\nexport function initInternalPlugins(SDK) {\n  SDK.use(queryPlugin);\n}\n","/**\n * SDK 插件方法\n * https://github.dev/vuejs/vue/blob/dev/README.md\n */\nimport SDK from './instance';\nimport { initGlobalAPI } from './global-api';\nimport { initInternalPlugins } from './internal-plugins';\n\ninitGlobalAPI(SDK);\n\ninitInternalPlugins(SDK);\n\nSDK.version = '1.0.0';\n\nexport default SDK;\n"],"names":[],"mappings":";;;EAAA;EACA;EACA;AACA,eAAe;EACf;EACA;EACA;EACA,EAAE,MAAM,EAAE,KAAK;AACf;EACA;EACA;EACA;EACA,EAAE,YAAY,EAAE,IAAI;AACpB;EACA;EACA;EACA;EACA,EAAE,WAAW,EAAE,IAAI;EACnB;;EChBO,SAAS,GAAG,CAAC,GAAG,EAAE;EACzB,EAAE,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;EACnB,CAAC;AAYD;EACO,SAAS,IAAI,CAAC,GAAG,EAAE;EAC1B,EAAE,IAAI,MAAM,CAAC,WAAW,EAAE;EAC1B,IAAI,IAAI;EACR,MAAM,OAAO,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;EAChD,KAAK,CAAC,OAAO,CAAC,EAAE;AAChB;EACA,KAAK;EACL,GAAG;EACH,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC,cAAc,CAAC,EAAE,GAAG,CAAC,CAAC;EACtC;;EC1BA;EACA;EACA;AAEA;EACA,SAAS,GAAG,CAAC,OAAO,EAAE;EACtB,EAAE,IAAI,EAAE,IAAI,YAAY,GAAG,CAAC,EAAE;EAC9B,IAAI,IAAI,CAAC,kEAAkE,CAAC,CAAC;EAC7E,GAAG;EACH,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;EACtB,CAAC;AACD;EACA,SAAS,CAAC,GAAG,CAAC,CAAC;AACf;EACA;EACA,SAAS,SAAS,CAAC,GAAG,EAAE;EACxB,EAAE,GAAG,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,OAAO,EAAE;AAC3C;EACA,GAAG,CAAC;EACJ;;ECnBA;EACA;EACA;AACA;EACO,SAAS,OAAO,CAAC,GAAG,EAAE;EAC7B,EAAE,GAAG,CAAC,GAAG,GAAG,UAAU,MAAM,EAAE;EAC9B,IAAI,MAAM,gBAAgB;EAC1B,MAAM,IAAI,CAAC,iBAAiB,KAAK,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC,CAAC;AAC9D;EACA,IAAI,IAAI,gBAAgB,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE;EAC/C,MAAM,OAAO,IAAI,CAAC;EAClB,KAAK;AACL;EACA,IAAI,MAAM,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;EAC7C,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;EACvB,IAAI,IAAI,MAAM,IAAI,OAAO,MAAM,CAAC,OAAO,KAAK,UAAU,EAAE;EACxD,MAAM,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;EACzC,KAAK,MAAM,IAAI,OAAO,MAAM,KAAK,UAAU,EAAE;EAC7C,MAAM,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;EAC/B,KAAK;EACL,IAAI,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAClC;EACA,IAAI,OAAO,IAAI,CAAC;EAChB,GAAG,CAAC;EACJ;;ECxBA;EACA;EACA;AAIA;EACO,SAAS,aAAa,CAAC,GAAG,EAAE;EACnC;EACA,EAAE,MAAM,SAAS,GAAG,EAAE,CAAC;EACvB,EAAE,SAAS,CAAC,GAAG,GAAG,MAAM,MAAM,CAAC;AAC/B;EACA,EAAE,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;AAClD;EACA;EACA,EAAE,GAAG,CAAC,IAAI,GAAG;EACb,IAAI,GAAG;EACP,IAAI,IAAI;EACR,GAAG,CAAC;AACJ;EACA;EACA,EAAE,GAAG,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACpC;EACA;EACA,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;EACf;;ECzBA;EACA;EACA;AACA;EACe,SAAS,WAAW,CAAC,GAAG,EAAE,OAAO,GAAG,EAAE,EAAE;EACvD,EAAE,MAAM,SAAS,GAAG,OAAO,CAAC,SAAS,IAAI,QAAQ,CAAC;EAClD,EAAE,GAAG,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,WAAW,CAAQ,CAAC,CAAC;EAClD,CAAC;AACD;EACA,SAAS,WAAW,CAAC,OAAO,EAAE;EAC9B,EAAE,MAAM,OAAO,GAAG;EAClB,IAAI,GAAG,GAAG,EAAE;EACZ,IAAI,GAAG,GAAG,EAAE;EACZ,IAAI,GAAG,GAAG,EAAE;EACZ,IAAI,MAAM,GAAG,EAAE;EACf,GAAG,CAAC;AACJ;EACA,EAAE,OAAO,OAAO,CAAC;EACjB;;EClBA;EACA;EACA;AAEA;EACO,SAAS,mBAAmB,CAAC,GAAG,EAAE;EACzC,EAAE,GAAG,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;EACvB;;ECPA;EACA;EACA;EACA;AAIA;EACA,aAAa,CAAC,GAAG,CAAC,CAAC;AACnB;EACA,mBAAmB,CAAC,GAAG,CAAC,CAAC;AACzB;EACA,GAAG,CAAC,OAAO,GAAG,OAAO;;;;;;;;"}